<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>타이머</title>
    <style>
      :root {
        color-scheme: light dark;
        font-family: "Pretendard", "Noto Sans KR", sans-serif;
      }

      body {
        margin: 0;
        min-height: 100vh;
        display: grid;
        place-items: center;
        background: linear-gradient(135deg, #f8fafc, #dbeafe);
      }

      .timer {
        width: min(92vw, 360px);
        background: rgba(255, 255, 255, 0.85);
        border-radius: 18px;
        box-shadow: 0 10px 28px rgba(15, 23, 42, 0.15);
        padding: 24px;
        text-align: center;
        backdrop-filter: blur(8px);
      }

      h1 {
        margin: 0 0 16px;
        font-size: 1.6rem;
      }

      .display {
        font-size: clamp(2.2rem, 8vw, 3.2rem);
        font-weight: 700;
        letter-spacing: 0.05em;
        margin: 8px 0 20px;
      }

      .inputs,
      .buttons {
        display: flex;
        gap: 8px;
      }

      .inputs {
        margin-bottom: 12px;
      }

      input {
        flex: 1;
        font-size: 1rem;
        padding: 10px;
        border-radius: 10px;
        border: 1px solid #cbd5e1;
      }

      button {
        flex: 1;
        border: 0;
        border-radius: 10px;
        padding: 10px;
        font-size: 0.95rem;
        font-weight: 600;
        cursor: pointer;
      }

      .start {
        background: #2563eb;
        color: #fff;
      }

      .pause {
        background: #f59e0b;
        color: #111827;
      }

      .reset {
        background: #e2e8f0;
        color: #0f172a;
      }

      .message {
        min-height: 1.4em;
        margin-top: 12px;
        font-size: 0.9rem;
      }
    </style>
  </head>
  <body>
    <main class="timer">
      <h1>⏱️ 타이머</h1>
      <div id="display" class="display" aria-live="polite">00:00</div>
      <div class="inputs">
        <input id="minutes" type="number" min="0" max="999" placeholder="분 입력" />
      </div>
      <div class="buttons">
        <button id="start" class="start">시작</button>
        <button id="pause" class="pause">일시정지</button>
        <button id="reset" class="reset">초기화</button>
      </div>
      <p id="message" class="message"></p>
    </main>

    <script>
      const display = document.getElementById("display");
      const minutesInput = document.getElementById("minutes");
      const startButton = document.getElementById("start");
      const pauseButton = document.getElementById("pause");
      const resetButton = document.getElementById("reset");
      const message = document.getElementById("message");

      let remainingSeconds = 0;
      let timerId = null;

      const formatTime = (seconds) => {
        const min = Math.floor(seconds / 60)
          .toString()
          .padStart(2, "0");
        const sec = (seconds % 60).toString().padStart(2, "0");
        return `${min}:${sec}`;
      };

      const updateDisplay = () => {
        display.textContent = formatTime(remainingSeconds);
      };

      const stopTimer = () => {
        if (timerId) {
          clearInterval(timerId);
          timerId = null;
        }
      };

      const tick = () => {
        if (remainingSeconds <= 0) {
          stopTimer();
          message.textContent = "시간이 종료되었습니다!";
          return;
        }

        remainingSeconds -= 1;
        updateDisplay();

        if (remainingSeconds === 0) {
          stopTimer();
          message.textContent = "시간이 종료되었습니다!";
        }
      };

      startButton.addEventListener("click", () => {
        if (!timerId) {
          if (remainingSeconds <= 0) {
            const inputValue = Number(minutesInput.value);
            if (!Number.isFinite(inputValue) || inputValue <= 0) {
              message.textContent = "1분 이상 입력해 주세요.";
              return;
            }
            remainingSeconds = Math.round(inputValue * 60);
            updateDisplay();
          }
          message.textContent = "";
          timerId = setInterval(tick, 1000);
        }
      });

      pauseButton.addEventListener("click", () => {
        stopTimer();
        message.textContent = "일시정지되었습니다.";
      });

      resetButton.addEventListener("click", () => {
        stopTimer();
        remainingSeconds = 0;
        updateDisplay();
        message.textContent = "초기화되었습니다.";
      });

      updateDisplay();
    </script>
  </body>
</html>
